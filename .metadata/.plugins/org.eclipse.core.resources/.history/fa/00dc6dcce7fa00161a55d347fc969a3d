package Editor;

import java.awt.Dimension;
import java.awt.GridBagConstraints;

import javax.swing.AbstractListModel;
import javax.swing.JList;
import javax.swing.JToolBar;

import Editor.comp.Form;
import Editor.tile.OpenTileset;
import Editor.tile.TileSelector;
import Tileset.Tileset;

public class Selector extends Form
{	
	private JList<Tileset> list;
	
	private TileSelector selector;

	public Selector(EditorResources resources)
	{
		JToolBar toolbar = new JToolBar();
		
		selector = new TileSelector();
		
		list = new JList<Tileset>();

		toolbar.add(new OpenTileset(selector));
		
		MyModel model = new MyModel();
		
		list.setModel(model);
		
		Dimension prefSize = new Dimension(200, 600);
		
		
		addField(toolbar, 0, 0, 1);
	
		gbc.fill = GridBagConstraints.BOTH;

		addField(list, 0, 1, 1);
		addField(selector, 0, 2, 1);
		
		
		
		setPreferredSize(prefSize);
	}

	private class MyModel extends AbstractListModel<Tileset>
	{
		@Override
		public Tileset getElementAt(int index) 
		{
			return Editor.RESOURCES.getEditorAssets()
			   					   .getTilesets()
			   					   .get(index);
		}

		@Override
		public int getSize() 
		{
			return Editor.RESOURCES.getEditorAssets()
								   .getTilesets()
								   .size();
		}	
	}
}
