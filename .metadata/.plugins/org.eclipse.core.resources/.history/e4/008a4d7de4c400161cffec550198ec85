package Editor;

import java.awt.Dimension;
import java.awt.event.MouseEvent;

import javax.swing.JComponent;

import EditorGUI.MouseListener;
import Entity.Entity;
import EntityComponent.GraphicsComponent;
import Graphic.Camera;
import Maths.Dimension2D;

public class SceneEntityComponent extends JComponent
	implements MouseListener
{
	private EditorResources resources;
	
	private Entity ent;
	
	public SceneEntityComponent(
			EditorResources resources, Entity ent)
	{
		this.resources = resources;
		this.ent = ent;
	
		updateSize();
	}
	
	private void updateSize()
	{
		Camera camera = new Camera();

		Dimension2D.Double graphSize = 
			ent.get(GraphicsComponent.class)
			   .getGraphic()
			   .getSize();
		
		Dimension scrSize = camera.sizeOnScreen2(graphSize);
				
		setPreferredSize(scrSize);
	}

	
	public void mousePressed(MouseEvent e)
	{
		if(resources.selection == null ||
		   resources.sceneSelection)
		{
			resources.selection = ent;
			resources.sceneSelection = true;
			repaint();
		}
	}
}
