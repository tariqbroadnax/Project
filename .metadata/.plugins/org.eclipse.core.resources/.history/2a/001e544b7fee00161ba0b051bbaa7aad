package Quest;

import java.time.Duration;
import java.util.Collections;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

import EntityComponent.EntityComponent;

public class QuestComponent extends EntityComponent
{
	public Set<Quest> active, completed;
	
	public QuestComponent()
	{
		active = new HashSet<Quest>();
		completed = new HashSet<Quest>();
	}
	
	public QuestComponent(QuestComponent comp)
	{
		this();
	}
	
	public void startQuest(Quest quest)
	{
		if(quest.satifiesRequirements(parent))
		{
			quest.setQuester(parent);
			
			quest.start();
			
			active.add(quest);
		}
	}
	
	@Override
	public void update(Duration delta) {}

	public List<Quest> getActiveQuests() {
		return Collections.unmodifiableList(active);
	}
	
	public List<Quest> getCompletedQuests() {
		return Collections.unmodifiableList(completed);
	}

	@Override
	protected EntityComponent _clone() {
		return new QuestComponent(this);
	}
}
