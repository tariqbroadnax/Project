package Movement;

import java.awt.geom.Point2D;

public class TargetForce implements Force
{
	private Point2D.Double src, target;
	
	public TargetForce(Point2D.Double src,
					   Point2D.Double target)
	{
		this.src = src;
		this.target = target;
	}
	
	public double dx(double t)
	{
		double dir = Math.atan2(target.y - src.y,
								target.x - src.x);
		
		setDirection(dir);
		
		double dx = super.dx(t),
			   remaining = target.x - src.x;
		
		if(dx < remaining)
			return dx;
		else
			return remaining;
	}
	
	public double dy(double y)
	{
		double dir = Math.atan2(target.y - src.y,
								target.x - src.x);

		setDirection(dir);
		
		double dx = super.dx(t),
			   remaining = target.x - src.x;
		
		if(dx < remaining)
			return dx;
		else
			return remaining;
	}
	
	private void updateDir()
	{
		double dir = Math.atan2(target.y - src.y,
								target.x - src.x);

		setDirection(dir);
	}
}
